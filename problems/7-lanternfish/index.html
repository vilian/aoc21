<!DOCTYPE html>

<head>
  <meta charset="utf-8" />
  <title>Advent of Code</title>
  <script src="./input.js"></script>
  <script>
    // https://adventofcode.com/2021/day/6

    /*
     grow lanternfish school
     new fish every 7 days
     model each fish as a single number that represents the number of days
     until it creates a new lanternfish.
     new lanternfish: two more days for its first cycle.

    */

    // param input fish
    class LanternFishCalculator {
      // fish start and fish end
      // An array of integers

      fishSchool;

      constructor(input) {
        this.fishSchool = input;
      }

      /**
       * Fish age decrements to 0. When it reaches 0, a new fish is created with
       * an age of 8. The fish whose life has reached 0, then becomes 6.
       */
      liveOneDay() {
        const newFish = [];
        const spawningSchool = this.fishSchool
          .map((fish) => {
            if (fish === 0) {
              newFish.push(8);
              return 6;
            }
            return fish - 1;
          })
          .concat(newFish);

        // console.log("spawningSchool", spawningSchool);
        this.fishSchool = spawningSchool;
        // console.log("this.fishSchool", this.fishSchool);
      }

      liveNumberOfDays(numberOfDays) {
        for (; numberOfDays > 0; numberOfDays--) {
          this.liveOneDay();
        }
        console.log(this.fishSchool.length);
      }
    }
    const formatInput = (input) => input.split(",");
    const lfc = new LanternFishCalculator(formatInput(testInput));
    // const lfc = new LanternFishCalculator(formatInput(puzzleInput));
    lfc.liveNumberOfDays(80);
    // out of memory: redo algorithm
    // lfc.liveNumberOfDays(256);
  </script>
</head>

<body style="background-color: black;"></body>
